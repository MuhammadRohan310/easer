<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <form class="login_cont" >
        <img src="./Assets/easer_logo.jpg" alt="" />
        <div class="headings">
          <span>Log In To Your Account</span>
        </div>
        <div class="input_container">
          <input type="email" placeholder="Email" name="email" />
          <div class="password_wrapper">
            <input
              type="password"
              placeholder="Password"
              class="password"
              name="password"
            />
            <svg
              class="icon"
              onclick="handle_click()"
              width="27"
              height="28"
              viewBox="0 0 27 28"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M24.8435 13.2951C23.9166 11.27 22.8135 9.61845 21.5344 8.3404L20.1928 9.73165C21.2868 10.8158 22.2397 12.2341 23.0637 14.0006C20.8699 18.7091 17.756 20.9459 13.5003 20.9459C12.2229 20.9459 11.0463 20.7419 9.97053 20.3339L8.51691 21.8414C10.011 22.5569 11.6722 22.9146 13.5003 22.9146C18.5681 22.9146 22.3491 20.1775 24.8435 14.7033C24.9437 14.4831 24.9958 14.2427 24.9958 13.9992C24.9958 13.7557 24.9437 13.5152 24.8435 13.2951ZM23.1673 4.52759L22.0433 3.36055C22.0237 3.34022 22.0004 3.32408 21.9748 3.31307C21.9492 3.30206 21.9218 3.2964 21.894 3.2964C21.8663 3.2964 21.8389 3.30206 21.8133 3.31307C21.7877 3.32408 21.7644 3.34022 21.7448 3.36055L18.861 6.34977C17.2711 5.50759 15.4842 5.08649 13.5003 5.08649C8.43253 5.08649 4.65148 7.8236 2.15714 13.2978C2.05688 13.518 2.00488 13.7584 2.00488 14.0019C2.00488 14.2454 2.05688 14.4859 2.15714 14.706C3.15364 16.8826 4.35335 18.6272 5.75626 19.9399L2.96609 22.8326C2.92656 22.8736 2.90435 22.9292 2.90435 22.9872C2.90435 23.0452 2.92656 23.1008 2.96609 23.1418L4.0917 24.3091C4.13126 24.3501 4.18489 24.3732 4.24081 24.3732C4.29673 24.3732 4.35036 24.3501 4.38991 24.3091L23.1673 4.83712C23.1869 4.8168 23.2025 4.79268 23.2131 4.76612C23.2237 4.73956 23.2292 4.7111 23.2292 4.68235C23.2292 4.6536 23.2237 4.62514 23.2131 4.59858C23.2025 4.57203 23.1869 4.5479 23.1673 4.52759ZM3.93693 14.0006C6.13331 9.29196 9.24728 7.05524 13.5003 7.05524C14.9384 7.05524 16.2459 7.31118 17.4322 7.83153L15.5786 9.7538C14.7007 9.26807 13.6956 9.0878 12.7114 9.23959C11.7273 9.39137 10.8162 9.86716 10.1126 10.5968C9.40907 11.3264 8.95026 12.2712 8.8039 13.2918C8.65754 14.3124 8.83137 15.3548 9.29975 16.2652L7.1002 18.5462C5.88282 17.4319 4.83341 15.9223 3.93693 14.0006ZM10.4417 14.0006C10.4422 13.5184 10.5523 13.0431 10.7632 12.6134C10.974 12.1837 11.2796 11.8116 11.6552 11.5273C12.0308 11.2431 12.4657 11.0548 12.9247 10.9776C13.3836 10.9004 13.8537 10.9366 14.2966 11.0833L10.5817 14.9357C10.4886 14.6334 10.4414 14.3179 10.4417 14.0006Z"
                fill="black"
                fill-opacity="0.25"
              />
              <path
                d="M13.3951 17.0628C13.3038 17.0628 13.2139 17.0584 13.1248 17.05L11.7321 18.4943C12.5698 18.8269 13.4824 18.9009 14.3597 18.7071C15.237 18.5134 16.0414 18.0602 16.6757 17.4025C17.31 16.7447 17.7469 15.9105 17.9338 15.0007C18.1206 14.0909 18.0493 13.1444 17.7285 12.2758L16.3358 13.7201C16.344 13.8125 16.3482 13.9057 16.3482 14.0003C16.3484 14.4026 16.2722 14.8009 16.1238 15.1725C15.9755 15.5442 15.758 15.8819 15.4837 16.1663C15.2094 16.4507 14.8838 16.6763 14.5254 16.8301C14.167 16.984 13.7829 17.063 13.3951 17.0628Z"
                fill="black"
                fill-opacity="0.25"
              />
            </svg>
          </div>
        </div>
        <div class="forgot_password">
          <span><a href="forget_password.html">Forgot Password?</a></span>
        </div>
        <button type="submit">Log In</button>
    </form>
    </div>
    <script>
      function handle_click() {
        let pass_input = document.getElementsByName("password")[0];
        if (pass_input.type == "password") {
          pass_input.type = "text";
        } else {
          pass_input.type = "password";
        }
      }
      let email_input = document.getElementsByName('email')[0]
      const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
      email_input.addEventListener('blur', (e)=>{
        if(e.target.value && !emailRegex.test(e.target.value)){
            alert("Please enter the email!")
            email_input.classList.add("error")
        }
        else{
            email_input.classList.remove("error")
        }
      })

      function handle_submit(event) {
        event.preventDefault();
        console.log("Form submission attempted");
    
        let inputs = document.querySelectorAll('input');
        let hasError = false;
    
        inputs.forEach((input_el) => {
            console.log(input_el.value.length)
          if (input_el.value.length == 0) {
            input_el.classList.add("error");
            hasError = true;
            console.log(input_el.name + " is empty");
          } else {
            input_el.classList.remove("error");
            console.log(input_el.name + " has value: " + input_el.value);
          }
        });
    
        if (hasError) {
          console.log("Form has errors");
        } else {
          console.log("Form is valid, ready to submit");
        }
      }
    
      document.getElementsByClassName('login_cont')[0].addEventListener('submit', handle_submit);
    </script>
  </body>
</html>
